{{diagnostic}}
<div class="container">
    <h1>Purple Point</h1>
    <h2>Sign up</h2>
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <div>
        <div [ngClass]="{'has-error': isSubmitted === true && formControls.email.errors}">
          <input type="email" class="form-control" id="email" placeholder="email" formControlName="email"
            name="email"
            required>
          <div *ngIf="isSubmitted && formControls.email.errors"> 
            <div *ngIf="formControls.email.errors.required">
                Email required
            </div> 		   
            <div *ngIf="formControls.email.errors.email">
                Email not valid
            </div>
            </div> 
        </div>
        
        <div [ngClass]="{ 'has-error': isSubmitted && formControls.username.errors }">
        <input 
          type="text" 
          class="form-control" 
          id="username" 
          placeholder="username" 
          formControlName="username"
          name="username"
          (click)="setSubmittedToFalse()"
          required>
        </div>
        <div *ngIf="isSubmitted && formControls.username.errors" >
          <div *ngIf="formControls.username.errors.required">Username is required</div>
        </div>

        <div [ngClass]="{ 'has-error': isSubmitted && formControls.password.errors }">
          <input 
            type="password" 
            class="form-control" 
            id="password" 
            placeholder="password"
            formControlName="password"
            (click)="setSubmittedToFalse()"
            required
          >
        </div>
        <div *ngIf="isSubmitted && formControls.password.errors" >
          <div *ngIf="formControls.password.errors.required">Password is required</div>
        </div>

        <div [ngClass]="{ 'has-error': isSubmitted && formControls.password.errors }">
          <input 
            type="password" 
            class="form-control" 
            id="repeatPassword" placeholder="Confirm password" 
            formControlName="confirmPassword"
            name="password"
            (click)="setSubmittedToFalse()"
            required
            >
        </div>
        <div *ngIf="isSubmitted && formControls.confirmPassword.errors" >
          <div *ngIf="formControls.confirmPassword.errors.required">Confirm Password is required</div>
          <div *ngIf="formControls.confirmPassword.errors.mustMatch">Passwords must match</div>
        </div>

        <div [ngClass]="{ 'has-error': isSubmitted && formControls.gender.errors }">
          <select 
            class="form-control" 
            id="gender"
            formControlName="gender"
            name="gender"
            (click)="setSubmittedToFalse()"
            required>
            <option [ngValue]="null" disabled>{{genders[0]}}</option>
            <option *ngFor="let gen of genders | slice:1;" [ngValue]="gen">{{gen}}</option>
          </select>
        </div>
        <div *ngIf="isSubmitted && formControls.gender.errors" >
          <div *ngIf="formControls.gender.errors.required">Gender is required</div>
        </div>

      </div>
      <button type="submit" class="principalButton">Register</button>
    </form>
</div>