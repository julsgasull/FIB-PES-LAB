<div class="container profile">
    <div class="row">
        <div class="col-sm-8">
            <form [formGroup]="editProfileForm" (ngSubmit)="saveChanges()">
                <div class="usernameTitle" [ngClass]="{'has-error': isSubmitted === true && formControls.username.errors}">
                    <input 
                        class="form-control" 
                        disabled="disableInputs" 
                        style="color:blueviolet" 
                        value="@{{userInfo.username}}"
                        formControlName="username"
                        name="username"
                        (click)="setSubmittedToFalse()"
                        required
                    > 
                    <div *ngIf="isSubmitted && formControls.username.errors"> 
                        <div class="error-message" *ngIf="formControls.username.errors.required">Username is required</div>
                    </div>
                </div>
                <div class="userData" [ngClass]="{'has-error': isSubmitted === true && formControls.name.errors}">
                    <div class="row attribute">
                        <div class="col-3">
                            <span class="userTitles">name</span>
                        </div>
                        <div class="col-9 userChanges">
                            <input 
                                class="form-control" 
                                disabled="disableInputs" 
                                value="{{userInfo.name}}"
                                formControlName="name"
                                name="name"
                                (click)="setSubmittedToFalse()"
                                required
                            >
                            <div *ngIf="isSubmitted && formControls.name.errors"> 
                                <div class="error-message" *ngIf="formControls.name.errors.required">Name is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="row attribute">
                        <div class="col-3 ">
                            <span class="userTitles">gender</span>
                        </div>
                        <div class="col-9 userChanges" [ngClass]="{ 'has-error': isSubmitted && formControls.gender.errors }">
                            <select 
                                class="form-control" 
                                disabled="disableInputs"
                                formControlName="gender"
                                name="gender"
                                (click)="setSubmittedToFalse()"
                                required>
                            >
                                <option>{{userInfo.gender}}</option>
                                <option *ngFor="let gen of genders">{{gen}}</option>
                            </select>
                        </div>
                        <div *ngIf="isSubmitted && formControls.gender.errors" >
                            <div *ngIf="formControls.gender.errors.required">Gender is required</div>
                        </div>
                    </div>
                    <div *ngIf="enableSaveButton">
                        <div class="row attribute">
                            <div class="col-3">
                                <span class="userTitles">password</span>
                            </div>
                            <div class="col-9 userChanges" [ngClass]="{ 'has-error': isSubmitted && formControls.password.errors }">
                                <input class="form-control" type="password" placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;">
                            </div>
                            <div *ngIf="isSubmitted && formControls.password.errors" >
                                <div *ngIf="formControls.password.errors.required">Password is required</div>
                            </div> 
                        </div> 
                        <div class="userTitles" style="text-align:right; font-size: xx-small;">
                            <p><i>If you change the image, please wait for some seconds to press the "Save changes" button.</i></p>
                         </div>
                        <div class="row attribute">
                            <div class="col-3">
                                <span class="userTitles">profile pic</span>
                            </div>
                            <div class="col-9 userChanges" [ngClass]="{ 'has-error': isSubmitted && formControls.profilePic.errors }">
                                <div class="form-control"><input type="file" (change)="onFileChanged($event)"></div>
                            </div>
                        </div> 
                        <button type="submit" class="principalButton" (click)="saveChanges()">
                            Save changes 
                        </button>
                    </div>
                </div>
            </form>
        </div>
        
        <div class="col-sm-4 order-first order-sm-last imageBlock">
            <img class="profileImage" src={{retrievedImage}} style="height: 100px; width: 100px;">
            <button 
                type="button" 
                class="principalButton editProfile"
                (click)="editarPerfil()"
            >
                Editar perfil
            </button>
            <button type="button" class="logoutButton" (click)="logout()">Log out </button>
        </div>
    </div>
</div>